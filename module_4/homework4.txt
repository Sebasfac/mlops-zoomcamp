https://www.youtube.com/watch?v=18Lbaaeigek&list=PL3MmuxUbc_hIUISrluw_A7wDSmfOhErJK

I will use anaconda prompt instead of git bash (I think that to follow the tutorial of youtube I would have to have the aws instance running - alex shoud be clearer lol)
commands:
conda info --envs
cd C:\Users\sebas\Desktop\mlops-zoomcamp-main\mlops-zoomcamp-sebasfac\module 4 - deployment

I guess I will use the last module conda environment:
conda activate prefect-ops

To see the packages:
conda list

running jupyter notebook:
jupyter nbconvert --to script starter.ipynb
(it created a py file from the notebook!)
I needed to adjust the link to the file and print the standard deviation of predictions

q1-5.28
added recommended code plus year, month and output_ file variables
q2-58M
q3- jupyter nbconvert --to script starter.ipynb

I need to create a virtual environment inside with pipenv:
conda install pipenv
pipenv --python=3.9
(2 new files will appear:Pipfile and Pipfile.lock)
pipenv install prefect==2.0b6 mlflow scikit-learn==1.2.2 pandas boto3

I opened the pipfile.lock with notepad and browsed the first hash for scikit-learn.
q4- sha256:065e9673e24e0dc5113e2dd2b4ca30c9d8aa2fa90f4c0597241c93b63130d233

modify the script:
import sys
put argvs
change data path with year and month variables
q5- 12.76

to build the docker image by the command line (after the docker image is created or exists in the current folder) run the following command:
"docker build -t ride-duration-prediction-service:v1 ."    the name is just a tag and the dot is to look in current directory.
You can look the first example without the tag https://docs.docker.com/engine/reference/commandline/build/#options
Actually I need to have docker desktop opened for this to work for some reason!
inside the docker image, I changed (deleted) the model2 that dit not exist and put instead this part inside COPY ["model.bin", "./"]

To run the image in docker:
docker run -it --rm ride-duration-prediction-service:v1
To run the image in docker plus the command to run the script:
docker run -it --rm ride-duration-prediction-service:v1 python starter.py 2022 4
(unfortunately I had an issue with the packages somehow and the file was not executed...I think it's an issue with pipenv that cannot create a virtual environment)

q6- actually 12.83 but 12.86 is the closest on the google form


PS: I need to create more disk space so I should put the conda envs to a requirements file before deletion. Read this:
https://stackoverflow.com/questions/50777849/from-conda-create-requirements-txt-for-pip3

To create a requirements text file to activate pip env later
pip freeze > requirements.txt

To remove env:
conda remove --name ENV_NAME --all

